import String;
import Point;
import Array;

//Some helper to dump an integer to the console.
func show (int i)
{
	inline { printf("%i\n", *(int*)@i@); }
}

//Dump something to the standard output.
func main
{
	Point p;
	inline { @p@ = malloc(sizeof(*@p@)); }
	p.x = 100;
	p.y = 200;
	show(p);
	
	String s = "Hello World";
	show(s);

	//Create a string array for debugging purposes.
	StringArray a;
	inline { @a@ = malloc(sizeof(*@a@)); }
	construct(a);

	show("initial size:");
	show(size(a));

	add(a, "Entry 1");
	show("size after insertion:");
	show(size(a));

	add(a, "Entry 2");
	add(a, "Entry 3");
	show("size after two further insertions:");
	show(size(a));

	show("the array itself:");
	show(a);
}
