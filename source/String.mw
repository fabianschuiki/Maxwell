/** String */

//Concatenates two strings.
func (..) (String a, String b) -> (String c)
{
	inline {
		@c@ = malloc(sizeof(*@c@));
		size_t cl = strlen(@a@->v) + strlen(@b@->v) + 1;
		char * c = malloc(cl);
		c[cl-1] = 0;
		char * d = c;
		const char * p;
		for (p = @a@->v; *p != 0; p++, d++) *d = *p;
		for (p = @b@->v; *p != 0; p++, d++) *d = *p;
		@c@->v = c;
	}
}

//Useful conversions.
func cast (int i) -> (String s)
{
	inline {
		@s@ = malloc(sizeof(*@s@));
		asprintf(&@s@->v, "%i", *(int*)@i@);
	}
}

//Dumps a string to standard output.
func show (String s)
{
	inline { printf("%s\n", @s@->v); }
}
