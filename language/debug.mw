/** Debugging some stuff. */

type Point
{
	int x;
	int y;
}

func (+) (Point a, Point b) -> (Point c)
{
	inline { @c@ = malloc(sizeof(Point_t)); }
	c.x = (a.x + b.x);
	c.y = (a.y + b.y);
}

func main
{
	Point p1;
	Point p2;
	inline {
		@p1@ = malloc(sizeof(Point_t));
		@p2@ = malloc(sizeof(Point_t));
	}
	p1.x = 5;
	p1.y = 10;
	p2.x = 5;
	p2.y = 10;
	
	Point p3 = (p1 + p2);
	
	//Dump the point.
	inline { printf("point: %i x %i\n", (int)@p3@->x, (int)@p3@->y); }
}
